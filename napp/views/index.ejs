<!DOCTYPE html>
<html>
	<head>
		<title>NapTime | EikonHack 2.0</title>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
		<meta name="author" content="" /> 
		<meta name="description" content="" /> 
		<meta name="keywords" content="" />
		<link rel="shortcut icon" type="image/png" href="" />
		<!-- FONTS -->
		<link href='stylesheets/fonts.css' type='text/css' rel='stylesheet' media="screen">
		<!-- PAGE CSS -->
		<link href="stylesheets/main-style.css" type="text/css" rel="stylesheet" media="screen">
	</head>
	<body>

     

<div id = "header">
		<div id = "logo">
			<div id = "main-text">
				<span class = "orange" title="News Analysis Platform">NAP</span>
				<span>TIME</span>
			</div>
			<div id = "sub-text">EikonHack 2.0</div>
		</div>
		<div id = "news-bar">
			<div id = "news-bar-left">
            
				<img id="news-icon" src = "images/news-icon.png" alt = "News icon" />
				<div id = "news-header" class = "news-item empty-news">
                    <!--
					<div class = "news-title">Microsoft and Apple go head to head in smartwatch war</div>
                    <div class = "news-meta">
                        <span class = "news-date">3h ago</span>|
                        <span class = "news-excerpt">Following an announcement by Microsoft that they'd match whatever sum Apple pour into their iWatch, the latter effectively declared war. This isn't the first ti...</span>							
                    </div>
                    -->
                    <div class = "news-title">Pick a news item</div>
				</div>              
			</div>
            <img src = "images/expand-down-icon.png" id = "news-bar-right" alt = "Toggle news list" />
            <div class = "clearfix"></div>
        </div>
		<div class = "clearfix"></div>
        <ul id="news-expanded">
            <li class="news-item">
                <div class = "news-title">Microsoft and Apple go head to head in smartwatch war</div>
                <div class = "news-meta">
                    <span class = "news-date">3h ago</span>|
                    <span class = "news-excerpt">Following an announcement by Microsoft that they'd match whatever sum Apple pour into their iWatch, the latter effectively declared war. This isn't the first ti...</span>							
                </div>
            </li>
            <li class="news-item">
                <div class = "news-title">Microsoft and Apple go head to head in smartwatch war</div>
                <div class = "news-meta">
                    <span class = "news-date">3h ago</span>|
                    <span class = "news-excerpt">Following an announcement by Microsoft that they'd match whatever sum Apple pour into their iWatch, the latter effectively declared war. This isn't the first ti...</span>							
                </div>
            </li>
        </ul>
	</div>

	<div id = "content">
		<div id = "left-column">
			<div id = "sentiment-box" class = "widget-box">
                <div class="box-header">Twitter sentiment analysis</div>
                <div id = "result">
                	<div id = "result-indicator"><img src = "images/positive-indicator.png" alt = "indicator" /></div>
                	<div id = "result-percent">67% positive</div>
                </div>
                <div id = "bar">
                	<div id = "bar-negative"></div>
                	<div id = "bar-positive"></div>
                	<div id = "cursor"><img src = "images/positive-bar-icon.png" alt = "cursor" /></div>
                </div>
				<div id = "bar-percents">
					<span class = "first">0%</span>
					<span>25%</span>
					<span>50%</span>
					<span>75%</span>
					<span class = "last">100%</span>
				</div>
            </div>
			<div id = "feed-box" class = "widget-box">
                <div class="box-header">Real-time Twitter feed</div>
				<div id = "keywords">
					KEYWORDS
					<span class = "keyword-box">Microsoft</span>
					<span class = "keyword-box">Apple</span>
					<span class = "keyword-box">Smartwatch</span>
				</div>
				<div class = "twitter-post">
					<div class = "twitter-name">Tim Warren</div>
					<div class = "twitter-user">@timwarren</div>
					<div class = "twitter-time">1h</div>
					<div class = "twitter-text">The more I use the Microsoft band, the more I want to interact with 
					notifications and have a smartwatch. Apple will be interesting</div>
				</div>
            </div>
            <div class = "clearfix"></div>
		</div>
		<div id = "right-column">
			<div id = "map-box" class = "widget-box">
                <div class="box-header">Real-time tweet locations</div>
                <div id="map-container"></div>
            </div>
			<div id = "market-box" class = "widget-box">
                <div class="box-header">Market analysis</div>
            </div>
            <div class = "clearfix"></div>
		</div>
		<div class = "clearfix"></div>
	</div>
    <script src="javascripts/jquery-2.1.1.min.js"></script>
    <script src="javascripts/d3.min.js"></script>
    <script src="javascripts/topojson.v1.min.js"></script>
    <script src="javascripts/datamaps.world.min.js"></script>   
    <script>
        
        var newsData = JSON.parse(<%-JSON.stringify(news)%>);
        console.log(newsData);
        
        // EXPAND NEWS SELECTOR
        $('#news-bar-right').click(function(){
            
            // IF VISIBLE, COLLAPSE
            if($('#news-expanded').is(":visible")){
                $('#news-expanded').fadeOut();
                $('#news-bar-right').attr("src", "images/expand-down-icon.png");
            }
            // ELSE EXPAND
            else {
                $('#news-expanded').fadeIn();
                $('#news-bar-right').attr("src", "images/expand-up-icon.png");
            }
        });
        
        // DATAMAPS
        $("#map-container").datamaps({
            fills: {
                defaultFill: "#2d2d31"
            },
            geographyConfig: {
                borderWidth:0,
                popupOnHover: false,
                highlightOnHover: false
            }
        });
        
    </script>
	</body>
</html>